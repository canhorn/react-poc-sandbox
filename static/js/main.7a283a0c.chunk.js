(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){"use strict";a(6)},108:function(e,t){},109:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(6),r=function e(){Object(n.a)(this,e)}},110:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(6),r=function e(t){Object(n.a)(this,e),this.key=t}},111:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(29),r=function(e){return n.a.get(e)}},112:function(e,t){},113:function(e,t,a){"use strict";a(29)},114:function(e,t,a){"use strict";a(29)},115:function(e,t,a){"use strict";a(29),a(34)},116:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(34),r=a(29),i=function(e,t){return r.a.bind(e).to(t).scope(n.a.Singleton)}},117:function(e,t,a){"use strict";a(29),a(34)},125:function(e){e.exports={skillList:[{id:"editor_testing",name:"Editor Testing",description:"Edit testing.",type:"ACTIVE",target:"ENTITY",validatorList:[{validator:"Validators_TargetInRangeOfCaster.csx",data:{min:0,max:25,booleanValue:!0,messageCode:"skill_validation_failed",messageTemplateKey:"skillFailedForReason"}}],failedList:[{comment:"Send a message to Caster client about why the validation failed for the Skill.",effect:"Effects_SkillValidationFailed.csx",data:{min:0,max:25,booleanValue:!0,messageCode:"skill_validation_failed",messageTemplateKey:"skillFailedForReason"}}],next:[{comment:"Validate target_not_caster, target_in_range, target_in_line_of_sight, caster_has_cost_ap, if not valid ignore next. (Server Caster.LifeState.ActionPoints -= 1) | (ClientAction ChangeEntityState)",effect:"Effects_DecreaseCasterProperty.csx",data:{propertyName:"lifeState",valueProperty:"actionPoints",modifierPropertyName:"levelState",modifierValueProperty:"actionPointsLevel",modifierBase:1,min:0,max:25,booleanValue:!0,messageCode:"skill_validation_failed",messageTemplateKey:"skillFailedForReason"},validatorList:[{validator:"Validators_CasterHasCost.csx",data:{propertyName:"lifeState",valueProperty:"actionPoints",cost:1,booleanValue:!0}}],next:[{comment:"Validate that target can be hit.",effect:"Effects_ValidatorEffect.csx",data:{propertyName:"lifeState",valueProperty:"actionPoints",cost:1,booleanValue:!0}}]}]},{id:"fire_ball",name:"Fire Ball",description:"Fire a flaming ball at a target.",type:"ACTIVE",target:"ENTITY",validatorList:[{validator:"Validators_CoolDownCheck.csx"},{validator:"Validators_TargetNotCaster.csx"},{validator:"Validators_TargetInRangeOfCaster.csx",data:{min:0,max:25}},{validator:"Validators_TargetInLineOfSightFromCaster.csx"},{validator:"Validators_CasterHasCost.csx",data:{propertyName:"lifeState",valueProperty:"actionPoints",cost:1}}],failedList:[{comment:"Send a message to Caster client about why the validation failed for the Skill.",effect:"Effects_SkillValidationFailed.csx",data:{messageCode:"skill_validation_failed",messageTemplateKey:"skillFailedForReason"}}],next:[{comment:"Set CoolDown on Caster.",effect:"Effects_SetCasterSkillCoolDown.csx",data:{coolDown:1e3}},{comment:"Freeze the Caster Entity. (Server Caster.Position.CanMove = false) | (ClientAction Caster.Position.CanMove = false)",effect:"Effects_FreezeCaster.csx",duration:500,next:[{comment:"UnFreeze the caster after a set amount of time, so they are not frozen for all time. (Server Caster.Position.CanMove = true) | (ClientAction Caster.Position.CanMove = false)",effect:"Effects_UnFreezeCaster.csx"}]},{comment:"Validate target_not_caster, target_in_range, target_in_line_of_sight, caster_has_cost_ap, if not valid ignore next. (Server Caster.LifeState.ActionPoints -= 1) | (ClientAction ChangeEntityState)",effect:"Effects_DecreaseCasterProperty.csx",data:{propertyName:"lifeState",valueProperty:"actionPoints",modifierPropertyName:"levelState",modifierValueProperty:"actionPointsLevel",modifierBase:1},validatorList:[{validator:"Validators_CasterHasCost.csx",data:{propertyName:"lifeState",valueProperty:"actionPoints",cost:1}}],next:[{comment:"Validate that target can be hit.",effect:"Effects_ValidatorEffect.csx",validatorList:[{validator:"Validators_ValidateSuccess.csx",data:{percent:80}}],next:[{comment:"Start the cast of Fire Skill animation. (ClientAction Animation = FireSkillAtEntity)",effect:"Effects_StartAnimationFromCasterToTarget.csx",duration:50,data:{animation:"fire_skill_at_direction_entity",duration:50},next:[{comment:"UnFreeze the caster after a set amount of time, so they are not frozen for all time. (Server Caster.Position.CanMove = true) (ClientAction Caster.Position.CanMove = false)",effect:"Effects_UnFreezeCaster.csx"}]},{comment:"Create fire particle that will move from caster to target. (ClientAction CreateMovingParticle)",effect:"Effects_ParticleCasterToTarget.csx",duration:500,data:{particleTemplateId:"ranged_fire",duration:500},next:[{comment:"Make sure the fired particle hits target. (Target.LifeState.HealthPoints -= 1) | (ClientAction = Target.LifeState.HealthPoints -= 1)",effect:"Effects_DecreaseTargetProperty.csx",data:{propertyName:"lifeState",valueProperty:"healthPoints",modifierPropertyName:"levelState",modifierValueProperty:"attack",modifierBase:5},next:[{comment:"Send all clients a message that damage was done to the Target",effect:"Effects_DamageMessage.csx",data:{messageCode:"damage_target",messageTemplateKey:"casterDamagedTarget"}}]},{comment:"Set the target to hit animation. (ClientAction Animation = HitForDamage)",effect:"Effects_StartTargetAnimation.csx",data:{animation:"hit_for_damage"}}]}],failedList:[{comment:"Send all clients a message Caster missed Target.",effect:"Effects_CasterTargetMessage.csx",data:{messageCode:"caster_missed_target",messageTemplateKey:"casterMissedTarget"}},{comment:"Start the cast of Fire Skill animation",effect:"Effects_StartAnimationFromCasterToTargetOffset.csx",data:{animation:"fire_skill_at_direction"},next:[{comment:"UnFreeze the caster after a set amount of time, so they are not frozen for all time.",effect:"Effects_UnFreezeCaster.csx"}]},{comment:"Create fire particle that will move from caster to target.",effect:"Effects_ParticleCasterToTarget.csx",duration:500,data:{particleTemplateId:"ranged_fire",duration:500}}]}]}]},{id:"fire_ball_2",name:"Fire Ball Level 2",description:"Fire a flaming ball level 2 at a target.",type:"Multi_TARGET",target:"ENTITY",validatorList:[{validator:"Validators_CoolDownCheck.csx"},{validator:"Validators_TargetNotCaster.csx"},{validator:"Validators_TargetInRangeOfCaster.csx",data:{min:0,max:25}},{validator:"Validators_TargetInLineOfSightFromCaster.csx"},{validator:"Validators_CasterHasCost.csx",data:{propertyName:"lifeState",valueProperty:"actionPoints",cost:1}}],failedList:[{comment:"Send a message to Caster client about why the validation failed for the Skill.",effect:"Effects_SkillValidationFailed.csx",data:{messageCode:"skill_validation_failed",messageTemplateKey:"skillFailedForReason"}}],next:[{comment:"Set CoolDown on Caster.",effect:"Effects_SetCasterSkillCoolDown.csx",data:{coolDown:1e3}},{comment:"Freeze the Caster Entity. (Server Caster.Position.CanMove = false) | (ClientAction Caster.Position.CanMove = false)",effect:"Effects_FreezeCaster.csx",duration:500,next:[{comment:"UnFreeze the caster after a set amount of time, so they are not frozen for all time. (Server Caster.Position.CanMove = true) | (ClientAction Caster.Position.CanMove = false)",effect:"Effects_UnFreezeCaster.csx"}]},{comment:"Validate target_not_caster, target_in_range, target_in_line_of_sight, caster_has_cost_ap, if not valid ignore next. (Server Caster.LifeState.ActionPoints -= 1) | (ClientAction ChangeEntityState)",effect:"Effects_DecreaseCasterProperty.csx",data:{propertyName:"lifeState",valueProperty:"actionPoints",modifierPropertyName:"levelState",modifierValueProperty:"actionPointsLevel",modifierBase:1},validatorList:[{validator:"Validators_CasterHasCost.csx",data:{propertyName:"lifeState",valueProperty:"actionPoints",cost:1}}],next:[{comment:"Validate that target can be hit.",effect:"Effects_ValidatorEffect.csx",validatorList:[{validator:"Validators_ValidateSuccess.csx",data:{percent:80}}],next:[{comment:"Start the cast of Fire Skill animation. (ClientAction Animation = FireSkillAtEntity)",effect:"Effects_StartAnimationFromCasterToTarget.csx",duration:50,data:{animation:"fire_skill_at_direction_entity",duration:50},next:[{comment:"UnFreeze the caster after a set amount of time, so they are not frozen for all time. (Server Caster.Position.CanMove = true) (ClientAction Caster.Position.CanMove = false)",effect:"Effects_UnFreezeCaster.csx"}]},{comment:"Create fire particle that will move from caster to target. (ClientAction CreateMovingParticle)",effect:"Effects_ParticleCasterToTarget.csx",duration:500,data:{particleTemplateId:"ranged_fire",duration:500},next:[{comment:"Make sure the fired particle hits target. (Target.LifeState.HealthPoints -= 1) | (ClientAction = Target.LifeState.HealthPoints -= 1)",effect:"Effects_DecreaseTargetProperty.csx",data:{propertyName:"lifeState",valueProperty:"healthPoints",modifierPropertyName:"levelState",modifierValueProperty:"attack",modifierBase:5},next:[{comment:"Send all clients a message that damage was done to the Target",effect:"Effects_DamageMessage.csx",data:{messageCode:"damage_target",messageTemplateKey:"casterDamagedTarget"}}]},{comment:"Set the target to hit animation. (ClientAction Animation = HitForDamage)",effect:"Effects_StartTargetAnimation.csx",data:{animation:"hit_for_damage"}}]}],failedList:[{comment:"Send all clients a message Caster missed Target.",effect:"Effects_CasterTargetMessage.csx",data:{messageCode:"caster_missed_target",messageTemplateKey:"casterMissedTarget"}},{comment:"Start the cast of Fire Skill animation",effect:"Effects_StartAnimationFromCasterToTargetOffset.csx",data:{animation:"fire_skill_at_direction"},next:[{comment:"UnFreeze the caster after a set amount of time, so they are not frozen for all time.",effect:"Effects_UnFreezeCaster.csx"}]},{comment:"Create fire particle that will move from caster to target.",effect:"Effects_ParticleCasterToTarget.csx",duration:500,data:{particleTemplateId:"ranged_fire",duration:500}}]}]}]}]}},126:function(e){e.exports={tutorialActive:!0,steps:[{key:"step_1",isVisible:!0,directionalHint:1,text:"Double-click to open editor."}]}},14:function(e,t,a){"use strict";a(107);var n=a(108);a.o(n,"EventType")&&a.d(t,"EventType",function(){return n.EventType}),a.o(n,"IEventService")&&a.d(t,"IEventService",function(){return n.IEventService});var r=a(109);a.d(t,"IEventService",function(){return r.a});var i=a(110);a.d(t,"EventType",function(){return i.a})},141:function(e,t,a){e.exports=a(172)},142:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},16:function(e,t,a){"use strict";var n=a(111);a.d(t,"Inject",function(){return n.a});var r=a(112);a.o(r,"createSingletonService")&&a.d(t,"createSingletonService",function(){return r.createSingletonService});a(34),a(113),a(114),a(115);var i=a(116);a.d(t,"createSingletonService",function(){return i.a});a(117)},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);a(142);var n=a(0),r=a.n(n),i=a(35),o=a(46),c=a(15),s=a(30),l=a.n(s),f=a(45),u=a(6),d=a(10),m=a(23),h=a(21),p=a(22),v=(a(148),a(14)),g=a(16),E=new v.EventType("EDITOR_STATE_UPDATED"),b={editorState:{fileMenu:{root:[]}},serverFileMap:new Map},y={id:"invalid-id",type:"plaintext",content:"Loading..."},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(g.Inject)(v.IEventService);Object.assign(b.editorState,e),t.publish({type:E})},S=function(){return b.editorState},k=function(e,t){var a=b.serverFileMap.get(e)||{id:e,type:"new",content:t},n=Object.assign({},a,{content:t});b.serverFileMap.set(e,n)},O=function(){var e=Object(f.a)(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=b.serverFileMap.get(t)){e.next=3;break}return e.abrupt("return",_(t));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_=function(e){return new Promise(function(t,a){fetch("serverData/content/".concat(e,".json")).then(function(e){return e.json()}).then(function(t){return b.serverFileMap.set(e,t),L(),t}).then(function(e){return t(e)}).catch(function(e){return a(e)})})},x=new Map,j=function(e,t){var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,a="x"===e?t:3&t|8;return a.toString(16)});return x.set(a,{notificationFunction:e,context:t}),a},L=function(){x.forEach(function(e){e.notificationFunction.call(e.context)})};a(149);function w(){return r.a.createElement("div",{className:"editor-home"},r.a.createElement("h1",null,"Editor Home"),r.a.createElement("h3",null,"PoC/Features"),r.a.createElement("ul",null,r.a.createElement("li",null,"The layout of the page is created using"," ",r.a.createElement("a",{href:"https://css-tricks.com/snippets/css/complete-guide-grid/"},"CSS Grid.")),r.a.createElement("li",null,r.a.createElement("span",{style:{fontWeight:"bold"}},"Text Editor: ")," ","Using the"," ",r.a.createElement("a",{href:"https://microsoft.github.io/monaco-editor/index.html"},"Monaco Editor"),", from Microsoft, we are able to edit text files."),r.a.createElement("li",null,r.a.createElement("span",{style:{fontWeight:"bold"}},"Skill Editor:")," ","The skill editor uses"," ",r.a.createElement("a",{href:"https://developer.microsoft.com/en-us/fabric"},"UI Fabric")," ","to create a responsive UX to edit the details about skills used by the EventHorizon GDK.",r.a.createElement("div",{style:{fontWeight:"bold"}},"Skill Editor Features"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",{style:{fontWeight:"bold"}},"Skill List:")," ","Contains a search, which a deep search of all content in the skills."),r.a.createElement("li",null,r.a.createElement("span",{style:{fontWeight:"bold"}},"Tutorial:")," ","The lists have attached Tutorial Bubbles that help with some general usages, helps to clean the UI.")))))}a(150),a(151);var T=a(93),I=a.n(T),F=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={fileId:"not-valid",file:y,options:{selectOnLineNumbers:!0}},a._onChangeHandler=void 0,a.editorDidMount=function(e,t){console.log("editorDidMount",{getCurrentValue:e,editor:t}),null!==a.props.match&&(console.log("DidMount",a.props.match.params.fileId),O(a.props.match.params.fileId).then(function(e){return a.setState({file:e})}))},a.onChange=function(e,t){console.log(a.state.fileId),"not-valid"!==a.state.fileId&&(console.log("onChange",e,t),k(a.state.fileId,e))},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._onChangeHandler=j(this.onContentChanged,this);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e;e=this._onChangeHandler,x.delete(e)}},{key:"onContentChanged",value:function(){var e=this;try{if(!this.props.match)return;this.setState({fileId:this.props.match.params.fileId,file:y}),O(this.props.match.params.fileId).then(function(t){e.setState({file:t})}).catch(function(e){return console.error("Error",e)})}catch(t){console.error("Error",t)}}},{key:"componentDidUpdate",value:function(e){var t=this;e.match&&this.props.match&&e.match.params.fileId!==this.props.match.params.fileId&&(this.setState({fileId:this.props.match.params.fileId,file:y}),O(this.props.match.params.fileId).then(function(e){t.props.match&&t.setState({fileId:t.props.match.params.fileId,file:e})}).catch(function(e){return console.error("Error",e)}))}},{key:"render",value:function(){var e=this.state.file,t="invalid";return this.props.match&&(t=this.props.match.params.fileId),n.createElement("div",{className:"text-editor"},n.createElement("div",null,"(",t,")"),n.createElement(I.a,{key:"something",width:"100%",height:300,language:"json",theme:"dark",value:e.content,options:this.state.options,editorDidMount:this.editorDidMount}))}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.createElement("div",{className:"text-editor"},n.createElement("h1",null,"Text Editor"),n.createElement("div",null,n.createElement(c.a,{path:"/text-editor/file/:fileId",component:F})))}}]),t}(n.Component),P=(a(169),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return n.createElement("div",{className:"editor-sidebar"},"(editor sidebar)",this.props.editorState.fileMenu.root.map(function(e){return n.createElement(A,{key:e.id,menuItem:e})}))}}]),t}(n.Component)),A=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.menuItem;return n.createElement("div",{style:{paddingLeft:"5px"}},e.isFolder?n.createElement("span",null,e.name):n.createElement(o.b,{className:"menu-link",to:N(e)},e.name),n.createElement("div",null,(e.children||[]).map(function(e){return n.createElement(t,{key:e.id,menuItem:e})})))}}]),t}(n.Component),N=function(e){return"/text-editor/file/".concat(e.id)},V=function e(){Object(u.a)(this,e)},M=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(g.Inject)(V)).create(e)},R=a(38),U=a(13),z=a(62),H=a(214),B=a(133),K=a(211),W=a(33),G=a(8),J=a(216),$=a(125),Y=new v.EventType("Skill.SKILL_CHANGED_EVENT"),q=new function e(){Object(u.a)(this,e),this.type=Y,this.data=void 0},X=new Map,Q=[];$.skillList.forEach(function(e){Q.push(e),X.set(e.id,e)});var Z=function(){return Q},ee=function(e){return X.get(e)},te=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(g.Inject)(v.IEventService);X.set(e.id,Object(R.a)({},e,{$$pendingSave:!0})),Q.splice(0,Q.length),X.forEach(function(e){Q.push(e)}),a.publish((t={actionType:"ADDED_TO_ACTION"},q.data=t,q))},ae=a(217),ne=a(223),re=new v.EventType("Tutorial.TUTORIAL_STEP_CHANGED_EVENT"),ie=new function e(){Object(u.a)(this,e),this.type=re,this.data=void 0},oe=a(126),ce={tutorialStep:new Map},se=function(e){return ce.tutorialStep.get(e)},le=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(g.Inject)(v.IEventService);ce.tutorialStep.set(e.key,e),a.publish((t={},ie.data=t,ie))};function fe(e){var t=e.stepKey,a=e.children,i=Object(n.useState)(Object(n.createRef)()),o=Object(U.a)(i,2),c=o[0],s=o[1],l=Object(n.useState)(se(t)),f=Object(U.a)(l,2),u=f[0],d=f[1];return Object(n.useEffect)(function(){var e=Object(g.Inject)(v.IEventService),a=function(){d(se(t))};return e.on(re,a,"TutorialBubble"),function(){e.off(re,a,"TutorialBubble")}},[t]),u&&u.isVisible?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:s},a),r.a.createElement(ae.a,{target:c,positioningContainerProps:{directionalHint:u.directionalHint,doNotLayer:!1}},r.a.createElement(ne.a,{hasCloseIcon:!0,closeButtonAriaLabel:"Close",onDismiss:function(){u&&(le(Object(R.a)({},u,{isVisible:!1})),d(se(t)))}},u.text))):r.a.createElement(r.a.Fragment,null,a)}oe.steps.forEach(function(e){return ce.tutorialStep.set(e.key,e)});var ue=[{key:"id",name:"Id",fieldName:"id",minWidth:100,maxWidth:200,isResizable:!0},{key:"name",name:"Name",fieldName:"name",minWidth:100,maxWidth:200,isResizable:!0}],de=function(e,t){return 0===t.toLocaleLowerCase().indexOf("deepsearch:")?he(e,t.substring(11)):me(e,t)},me=function(e,t){return e.id.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0||e.name.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0||e.description.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0||e.type.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0||e.target.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0},he=function(e,t){return JSON.stringify(e||{}).toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0};function pe(e){e.match;var t=e.history,a=Object(n.useState)(Z()),i=Object(U.a)(a,1)[0],o=Object(n.useState)(""),c=Object(U.a)(o,2),s=c[0],l=c[1],f=Object(n.useState)([]),u=Object(U.a)(f,2),d=u[0],m=u[1];Object(n.useEffect)(function(){m(i.map(function(e){return Object(R.a)({},e)}).filter(function(e){return""===s||de(e,s)}))},[i,s]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{label:"Search:",underlined:!0,description:"Prefix search with 'deepsearch:' to search into skills.",onChange:function(e,t){l(t||"")}}),r.a.createElement(fe,{stepKey:"step_1"},r.a.createElement(K.a,{items:d,selectionMode:W.b.none,columns:ue,setKey:"set",layoutMode:G.e.justified,onItemInvoked:function(e){console.log("Open "+e.name),t.push("/skill-editor/edit/".concat(e.id))},onRenderItemColumn:function(e,t,a){if(void 0===e||void 0===a)return r.a.createElement(r.a.Fragment,null,"NOT FOUND");var n=e[a.fieldName];if(e.$$pendingSave&&"id"===a.fieldName)return Object(z.c)("skill-list-pending-save-tooltip"),r.a.createElement(r.a.Fragment,null,"* ",n);return r.a.createElement(r.a.Fragment,null,n)},onRenderRow:function(e){var t=Object(z.c)("skill-list-pending-save-tooltip");if(void 0===e)return r.a.createElement(r.a.Fragment,null,"NOT FOUND");if(e.item.$$pendingSave){var a={root:{fontWeight:"bold"}};return r.a.createElement(H.a,{content:"This skill needs to be saved.",id:t,calloutProps:{gapSpace:0}},r.a.createElement(B.a,Object.assign({},e,{styles:a})))}return r.a.createElement(B.a,e)}})))}var ve=a(218),ge=a(224),Ee=a(135),be=a(229),ye=[{key:"effect",name:"Effect",fieldName:"effect",minWidth:100,maxWidth:200,isResizable:!0}],Ce=function(e,t){return 0===t.toLocaleLowerCase().indexOf("deepsearch:")?ke(e,t.substring(11)):Se(e,t)},Se=function(e,t){return e.effect.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0},ke=function(e,t){return JSON.stringify(e||{}).toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0};function Oe(e){var t=e.effectList,a=e.onSelected,i=e.onAdd,o=e.onDelete,c=Object(n.useState)(""),s=Object(U.a)(c,2),l=s[0],f=s[1],u=Object(n.useState)([]),d=Object(U.a)(u,2),m=d[0],h=d[1];Object(n.useEffect)(function(){h(t.map(function(e){return Object(R.a)({},e)}).filter(function(e){return""===l||Ce(e,l)}))},[t,l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{label:"Search:",underlined:!0,description:"Prefix search with 'deepsearch:' to search into effects.",onChange:function(e,t){f(t||"")}}),r.a.createElement(fe,{stepKey:"step_1"},r.a.createElement(K.a,{items:m,selectionMode:W.b.none,columns:ye,isHeaderVisible:!1,setKey:"set",layoutMode:G.e.justified,onItemInvoked:function(e,t){void 0!==t&&a(t)},onRenderItemColumn:function(e,t,a){if(void 0!==t&&void 0!==a){var n=e[a.fieldName];return"effect"===a.key?r.a.createElement("div",null,n,r.a.createElement(be.a,{menuIconProps:{iconName:"MoreVertical"},role:"button","aria-haspopup":!0,"aria-label":"Show actions",styles:{root:{float:"right",height:"inherit"}},menuProps:{items:[{key:"delete",text:"Delete",onClick:function(){return o(t)}}]}})):r.a.createElement("span",null,n)}}})),i?r.a.createElement(Ee.a,{onClick:i},"Add"):[])}var _e=[{key:"validator",name:"Validator",fieldName:"validator",minWidth:100,maxWidth:200,isResizable:!0}],xe=function(e,t){return 0===t.toLocaleLowerCase().indexOf("deepsearch:")?Le(e,t.substring(11)):je(e,t)},je=function(e,t){return e.validator.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0},Le=function(e,t){return JSON.stringify(e||{}).toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0};function we(e){var t=e.validatorList,a=e.onSelected,i=e.onAdd,o=Object(n.useState)(""),c=Object(U.a)(o,2),s=c[0],l=c[1],f=Object(n.useState)([]),u=Object(U.a)(f,2),d=u[0],m=u[1];Object(n.useEffect)(function(){m(t.map(function(e){return Object(R.a)({},e)}).filter(function(e){return""===s||xe(e,s)}))},[t,s]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{label:"Search:",underlined:!0,description:"Prefix search with 'deepsearch:' to search into validators.",onChange:function(e,t){l(t||"")}}),r.a.createElement(fe,{stepKey:"step_1"},r.a.createElement(K.a,{items:d,selectionMode:W.b.none,columns:_e,isHeaderVisible:!1,setKey:"set",layoutMode:G.e.justified,onItemInvoked:function(e){a(e)}})),i?r.a.createElement(Ee.a,{onClick:i},"Add"):[])}var Te={root:{}},Ie={root:{fontWeight:"bold",display:"flex",minHeight:"15em",width:"50%",padding:"1em"}},Fe={root:{fontWeight:"bold"}},De={childrenGap:5,padding:"1em"};function Pe(e){var t=e.validatorList,a=e.effectList,n=e.failedList,i=e.events,o=i.onValidatorSelect,c=i.onEffectSelect,s=i.onFailedSelect,l=i.onValidatorAddClicked,f=i.onEffectAddClick,u=i.onEffectDeleteClick,d=i.onFailedAddClick,m=i.onFailedDeleteClick;return r.a.createElement(ve.a,{horizontal:!0,styles:Te,tokens:De},r.a.createElement(ve.a.Item,{grow:1,styles:Ie},r.a.createElement(ve.a,{styles:{root:{width:"100%"}}},r.a.createElement(ge.a,{styles:Fe,variant:"large"},"Next"),r.a.createElement(Oe,{effectList:a,onSelected:c,onAdd:f,onDelete:u}))),r.a.createElement(ve.a.Item,{grow:1,styles:Ie},r.a.createElement(ve.a,{styles:{root:{width:"100%"}}},r.a.createElement(ge.a,{styles:Fe,variant:"large"},"Validators"),r.a.createElement(we,{validatorList:t,onSelected:o,onAdd:l}),r.a.createElement("hr",{style:{width:"100%"}}),r.a.createElement(ge.a,{styles:Fe,variant:"large"},"On Fail"),r.a.createElement(Oe,{effectList:n||[],onSelected:s,onAdd:d,onDelete:m}))))}var Ae=function(e){var t=Object(n.useState)(void 0),a=Object(U.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(-1),c=Object(U.a)(o,2),s=c[0],l=c[1],f=Object(n.useState)(-1),u=Object(U.a)(f,2),d=u[0],m=u[1];Object(n.useEffect)(function(){e&&e.next&&s>=0&&i(e.next[s])},[e,s]),Object(n.useEffect)(function(){e&&e.failedList&&d>=0&&i(e.failedList[d])},[e,d]);return{selectedSkillEffect:r,selectedSkillEffectIndex:s,selectedSkillFailedIndex:d,onValidatorSelect:function(e){console.log("Validator selected",e)},onEffectSelect:function(e){return l(e)},onFailedSelect:function(e){return m(e)},reset:function(){l(-1),m(-1),i(void 0)}}},Ne=a(48),Ve=function(e,t){return{onValidatorAddClicked:function(){e&&(e.validatorList||(e.validatorList=[]),e.validatorList=[].concat(Object(Ne.a)(e.validatorList),[{validator:"Validators_New.csx",comment:"The validator script will log text to server."}]),t(e))},onValidatorDeleteClick:function(a){e&&(e.validatorList||(e.validatorList=[]),e.validatorList=e.validatorList.filter(function(e,t){return t!==a}),t(e))},onEffectAddClick:function(){e&&(e.next||(e.next=[]),e.next=[].concat(Object(Ne.a)(e.next),[{effect:"Effects_New.csx",comment:"The effect script will log text to server."}]),t(e))},onEffectDeleteClick:function(a){e&&(e.next||(e.next=[]),e.next=e.next.filter(function(e,t){return t!==a}),t(e))},onFailedAddClick:function(){e&&(e.failedList||(e.failedList=[]),e.failedList=[].concat(Object(Ne.a)(e.failedList),[{effect:"Effects_New.csx",comment:"The effect script will log text to server."}]),t(e))},onFailedDeleteClick:function(a){e&&(e.failedList||(e.failedList=[]),e.failedList=e.failedList.filter(function(e,t){return t!==a}),t(e))}}},Me=a(71),Re=a(213),Ue=a(215),ze=(a(170),a(226));function He(e){var t=e.data,a=e.onChange,i=Object(n.useState)(!1),o=Object(U.a)(i,2),c=o[0],s=o[1],l=Object(n.useState)([]),f=Object(U.a)(l,2),u=f[0],d=f[1],m=Object(n.useState)(void 0),h=Object(U.a)(m,2);h[0],h[1];Object(n.useEffect)(function(){t&&d(Object.keys(t).map(function(e){return{key:e,value:t[e],type:typeof t[e]}}))},[t]);var p=function(e){var n=e.item;return r.a.createElement(J.a,{label:"".concat(n.key," (").concat(n.type,")"),value:"".concat(n.value),onChange:function(e,r){var i=Object.assign({},t,Object(Me.a)({},n.key,r));a(i)}})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{onClick:function(){s(!0)}},"Open"),r.a.createElement(Ue.a,{containerClassName:"data-editor-main",isOpen:c,onDismiss:function(){s(!1)}},r.a.createElement(Re.a,{items:[{key:"newItem",name:"New",cacheKey:"myCacheKey",iconProps:{iconName:"Add"},ariaLabel:"New",subMenuProps:{items:[{key:"numberDataItem",name:"Number"},{key:"stringDataItem",name:"Calendar event"},{key:"boolDataItem",name:"Boolean"}]}}]}),r.a.createElement(ze.a,{items:u,onRenderCell:function(e,t){return e?r.a.createElement("div",{"data-is-focusable":!0},r.a.createElement("div",null,"string"===e.type&&r.a.createElement(p,{item:e}),"number"===e.type&&"TODO: RenderNumberDataEditor","boolean"===e.type&&"TODO: RenderBooleanDataEditor")):r.a.createElement(r.a.Fragment,null)}}),r.a.createElement("pre",null,JSON.stringify(u,null,4))))}function Be(e){var t=e.effect,a=e.onChange,n=e.onBack,i=Ae(t),o=i.selectedSkillEffect,c=i.onEffectSelect,s=i.onFailedSelect,l=i.onValidatorSelect,f=i.reset,u=Ve(t,a),d=u.onValidatorAddClicked,m=u.onEffectAddClick,h=u.onEffectDeleteClick,p=u.onFailedAddClick,v=u.onFailedDeleteClick;return r.a.createElement(r.a.Fragment,null,o?r.a.createElement(Be,{effect:o,onChange:function(){return console.log("Changed")},onBack:function(){f()}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{onClick:n},"Back"),r.a.createElement(J.a,{label:"Effect Name",underlined:!0,value:t.effect,onChange:function(e,n){t.effect=n||"",a(t)}}),r.a.createElement(He,{data:t.data,onChange:function(e){t.data=e,a(t)}}),r.a.createElement(Pe,{validatorList:t.validatorList||[],effectList:t.next||[],failedList:t.failedList||[],events:{onValidatorSelect:l,onValidatorAddClicked:d,onEffectSelect:c,onEffectAddClick:m,onEffectDeleteClick:h,onFailedSelect:s,onFailedAddClick:p,onFailedDeleteClick:v}})),r.a.createElement("pre",null,JSON.stringify(t,null,4)))}function Ke(e){var t=e.match,a=Object(n.useState)(ee(t.params.skillId)),i=Object(U.a)(a,2),o=i[0],c=i[1],s=Ae(o),l=s.selectedSkillEffect,f=s.selectedSkillEffectIndex,u=s.selectedSkillFailedIndex,d=s.onEffectSelect,m=s.onFailedSelect,h=s.onValidatorSelect,p=s.reset;Object(n.useEffect)(function(){var e=Object(g.Inject)(v.IEventService);if(o){var a=function(e){"DELETE_ACTION"===e.actionType&&p(),c(ee(t.params.skillId))};return e.on(Y,a,"SkillEditor"),function(){e.off(Y,a,"SkillEditor")}}},[o]);var E=We(o,f,u),b=Ve(o,E),y=b.onValidatorAddClicked,C=b.onEffectAddClick,S=b.onEffectDeleteClick,k=b.onFailedAddClick,O=b.onFailedDeleteClick;return o?r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{nowrap:!0,block:!0,onContextMenu:function(){return alert("open context")}},t.params.skillId),l?r.a.createElement(Be,{effect:l,onChange:E,onBack:function(){p()}}):r.a.createElement(ve.a,null,r.a.createElement(J.a,{label:"Description",underlined:!0,value:o.description}),r.a.createElement(J.a,{label:"Type",underlined:!0,value:o.type}),r.a.createElement(J.a,{label:"Target",underlined:!0,value:o.target}),r.a.createElement(Pe,{validatorList:o.validatorList||[],effectList:o.next||[],failedList:o.failedList||[],events:{onValidatorSelect:h,onValidatorAddClicked:y,onEffectSelect:d,onEffectAddClick:C,onEffectDeleteClick:S,onFailedSelect:m,onFailedAddClick:k,onFailedDeleteClick:O}})),r.a.createElement("hr",null),r.a.createElement("pre",null,JSON.stringify(o,null,4))):r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{nowrap:!0,block:!0,onContextMenu:function(){return alert("open context")}},t.params.skillId))}var We=function(e,t,a){return function(n){e&&(t>=0?(e.next||(e.next=[]),e.next[t]=n):a>=0&&(e.failedList||(e.failedList=[]),e.failedList[a]=n),te(e))}};function Ge(){return n.createElement(n.Fragment,null,n.createElement("h1",null,"Skill Editor"),n.createElement(c.c,null,n.createElement(c.a,{path:"/skill-editor/edit/:skillId",component:Ke}),n.createElement(c.a,{path:"/skill-editor",component:pe})))}var Je,$e,Ye=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={editorState:S()},a._logger=M("View.Editor"),a._eventService=Object(g.Inject)(v.IEventService),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._eventService.on(E,this.onEditorStateUpdated,this),e.prev=1,e.next=4,fetch("serverData/editor-data.json").then(function(e){return e.json()}).then(function(e){return C(e)}).catch(function(e){JSON.stringify(e)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),this._logger.error("Some Error",e.t0);case 9:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._eventService.off(E,this.onEditorStateUpdated,this)}},{key:"onEditorStateUpdated",value:function(){this.setState({editorState:S()})}},{key:"render",value:function(){return n.createElement("div",{className:"editor"},n.createElement("div",{className:"editor-sidebar"},n.createElement(P,{editorState:this.state.editorState})),n.createElement("div",{className:"editor-main"},n.createElement(c.c,null,n.createElement(c.a,{path:"/skill-editor",component:Ge}),n.createElement(c.a,{path:"/text-editor",component:D}),n.createElement(c.a,{path:"/",component:w}))))}}]),t}(n.Component),qe=function(){function e(){Object(u.a)(this,e),this._eventListenerList=new Map}return Object(d.a)(e,[{key:"publish",value:function(e){for(var t=this._eventListenerList.get(e.type.key)||[],a=t.length,n=0;n<a;n++){var r=t[n];try{r.function.call(r.context,e.data)}catch(i){console.error("Listener failed",i)}}}},{key:"on",value:function(e,t,a){var n=this._eventListenerList.get(e.key)||[];return n.push({function:t,context:a}),this._eventListenerList.set(e.key,n),this}},{key:"off",value:function(e,t,a){return this._eventListenerList.set(e.key,(this._eventListenerList.get(e.key)||[]).filter(function(e){return e.function!==t||e.context!==a})),this}}]),e}(),Xe=a(132),Qe=function(e,t,a){t||(t=250);var n=+new Date;return function(){var r=a||this,i=+new Date,o=arguments;n&&i>n+t&&(e.apply(r,o),n=i)}};var Ze=[];window.LOGGED_MESSAGES=Ze;var et,tt=(et=1e3,Je=function(e,t,a){var n=a.value;a.value=Qe(function(){return n.apply(this,arguments)},et)},$e=function(){function e(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(u.a)(this,e),this._name=t,this._isDebug=a,this._isTrace=n}return Object(d.a)(e,[{key:"log",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="[".concat(this.formattedNowDate(),"] [INFO]: [").concat(this._name,"] \r\n\t").concat(e);this.throttledLog(a,t),Ze.push({level:"INFO",message:a,data:t})}},{key:"debug",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"[no-data]";if(this.formattedNowDate(),this._isDebug){var a="[".concat(this.formattedNowDate(),"] [DEBUG]: [").concat(this._name,"] \r\n\t").concat(e);console.info(a,t),Ze.push({level:"DEBUG",message:a,data:t})}}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="[".concat(this.formattedNowDate(),"] [ERROR]: [").concat(this._name,"] \r\n\t").concat(e);console.error(a,t),Ze.push({level:"ERROR",message:a,data:t})}},{key:"trace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this._isTrace){var a="[".concat(this.formattedNowDate(),"] [TRACE]: [").concat(this._name,"] \r\n\t").concat(e);this.throttledTrace(a,t),Ze.push({level:"TRACE",message:a,data:t})}}},{key:"throttledLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log(e,t)}},{key:"throttledTrace",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log(e,t),console.trace()}},{key:"formattedNowDate",value:function(){return(new Date).toUTCString()}}]),e}(),Object(Xe.a)($e.prototype,"throttledLog",[Je],Object.getOwnPropertyDescriptor($e.prototype,"throttledLog"),$e.prototype),$e),at=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"create",value:function(e){return new tt(e)}}]),e}(),nt=(a(171),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},a._eventService=Object(g.Inject)(v.IEventService),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return n.createElement("div",{className:"notification-center"})}}]),t}(n.Component)),rt=a(225),it=a(212);Object(g.createSingletonService)(v.IEventService,qe),Object(g.createSingletonService)(V,at),Object(it.a)();var ot=document.getElementById("root");Object(i.render)(n.createElement(function(){return n.createElement(rt.a,null,n.createElement("div",{className:"App"},n.createElement(o.a,null,n.createElement(o.b,{to:"/"},"Home")," "," | ",n.createElement(o.b,{to:"/text-editor"},"Text Editor")," "," | ",n.createElement(o.b,{to:"/skill-editor"},"Skill Editor"),n.createElement(c.c,null,n.createElement(c.a,{path:"/",component:Ye}))),n.createElement(nt,null)))},null),ot)},29:function(e,t,a){"use strict";var n=a(6),r=a(10),i=a(36);a.d(t,"a",function(){return o});var o=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"bind",value:function(e){return i.b.isBound(e)?i.b.bind(e):(function(e){var t=i.a.decorateConstructor(e);i.b.bind(e).toConstructor(t)}(e),i.b.bind(e).to(e))}},{key:"get",value:function(e){return i.b.get(e)}},{key:"getType",value:function(e){return i.b.getType(e)}},{key:"snapshot",value:function(t){var a=e.bind(t);e.snapshots.providers.set(t,a.iocprovider),a.iocscope&&e.snapshots.scopes.set(t,a.iocscope)}},{key:"restore",value:function(t){if(!e.snapshots.providers.has(t))throw new TypeError("Config for source was never snapshoted.");var a=e.bind(t);a.provider(e.snapshots.providers.get(t)),e.snapshots.scopes.has(t)&&a.scope(e.snapshots.scopes.get(t))}}]),e}();o.snapshots={providers:new Map,scopes:new Map}},34:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(23),r=a(21),i=a(22),o=a(6),c=a(10),s=a(36),l=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"reset",value:function(e){}}]),e}();l.Local=void 0,l.Singleton=void 0;var f=function(e){function t(){return Object(o.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(c.a)(t,[{key:"resolve",value:function(e,t){return e.get()}}]),t}(l);l.Local=new f;var u=function(e){function t(){return Object(o.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(c.a)(t,[{key:"resolve",value:function(e,a){var n=t.instances.get(a);return n||(a.__block_Instantiation=!1,n=e.get(),a.__block_Instantiation=!0,t.instances.set(a,n)),n}},{key:"reset",value:function(e){t.instances.delete(s.a.getConstructorFromType(e))}}]),t}(l);u.instances=new Map,l.Singleton=new u},36:function(e,t,a){"use strict";a.d(t,"b",function(){return u}),a.d(t,"a",function(){return h});var n=a(23),r=a(21),i=a(22),o=a(96),c=a(48),s=a(6),l=a(10),f=a(34),u=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"isBound",value:function(t){d(t);var a=h.getConstructorFromType(t);return!!e.bindings.get(a)}},{key:"bind",value:function(t){d(t);var a=h.getConstructorFromType(t),n=e.bindings.get(a);return n||(n=new m(a),e.bindings.set(a,n)),n}},{key:"get",value:function(t){var a=e.bind(t);return a.iocprovider||a.to(a.source),a.getInstance()}},{key:"getType",value:function(t){d(t);var a=h.getConstructorFromType(t),n=e.bindings.get(a);if(!n)throw new TypeError("The type ".concat(t.name," hasn't been registered with the IOC Container"));return n.targetSource||n.source}},{key:"injectProperty",value:function(t,a,n){var r="__".concat(a);Object.defineProperty(t,a,{enumerable:!0,get:function(){return this[r]?this[r]:this[r]=e.get(n)},set:function(e){this[r]=e}})}},{key:"assertInstantiable",value:function(e){if(e.__block_Instantiation)throw new TypeError("Can not instantiate Singleton class. Ask Container for it, using Container.get")}}]),e}();function d(e){if(!e)throw new TypeError("Invalid type requested to IoC container. Type is not defined.")}u.bindings=new Map;var m=function(){function e(t){Object(s.a)(this,e),this.source=void 0,this.targetSource=void 0,this.iocprovider=void 0,this.iocscope=void 0,this.decoratedConstructor=void 0,this.paramTypes=void 0,this.source=t}return Object(l.a)(e,[{key:"to",value:function(e){d(e);var t=h.getConstructorFromType(e);if(this.targetSource=t,this.source===t){var a=this;this.iocprovider={get:function(){var t=a.getParameters();return a.decoratedConstructor?t?Object(o.a)(a.decoratedConstructor,Object(c.a)(t)):new a.decoratedConstructor:t?Object(o.a)(e,Object(c.a)(t)):new e}}}else this.iocprovider={get:function(){return u.get(e)}};return this.iocscope&&this.iocscope.reset(this.source),this}},{key:"provider",value:function(e){return this.iocprovider=e,this.iocscope&&this.iocscope.reset(this.source),this}},{key:"scope",value:function(e){return this.iocscope=e,e===f.a.Singleton?(this.source.__block_Instantiation=!0,e.reset(this.source)):this.source.__block_Instantiation&&delete this.source.__block_Instantiation,this}},{key:"withParams",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.paramTypes=t,this}},{key:"toConstructor",value:function(e){return this.decoratedConstructor=e,this}},{key:"getInstance",value:function(){if(this.iocscope||this.scope(f.a.Local),!this.iocscope)throw new Error("IocScope was not set correctly.");return this.iocscope.resolve(this.iocprovider,this.source)}},{key:"getParameters",value:function(){return this.paramTypes?this.paramTypes.map(function(e){return u.get(e)}):null}}]),e}(),h=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"decorateConstructor",value:function(e){var t;return(t=function(t){function a(){var t,i;Object(s.a)(this,a);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return i=Object(n.a)(this,(t=Object(r.a)(a)).call.apply(t,[this].concat(c))),u.assertInstantiable(e),i}return Object(i.a)(a,t),a}(e)).__parent=e,t}},{key:"hasNamedConstructor",value:function(e){if(e.name)return"ioc_wrapper"!==e.name;try{var t=e.prototype.constructor.toString().match(this.constructorNameRegEx)[1];return t&&"ioc_wrapper"!==t}catch(a){}return!1}},{key:"getConstructorFromType",value:function(e){var t=e;if(this.hasNamedConstructor(t))return t;for(t=t.__parent;t;){if(this.hasNamedConstructor(t))return t;t=t.__parent}throw TypeError("Can not identify the base Type for requested target "+e.toString())}}]),e}();h.constructorNameRegEx=/function (\w*)/}},[[141,1,2]]]);
//# sourceMappingURL=main.7a283a0c.chunk.js.map